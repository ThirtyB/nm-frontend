# 节点监控功能说明

## 功能概述

新增了节点详情功能模块，包含以下主要功能：

### 1. 导航栏新增"节点详情"菜单
- 在主导航栏中添加了"节点详情"选项
- 所有用户都可以访问此功能

### 2. 节点列表页面 (`/nodes`)
- **时间选择器**: 支持选择时间范围查看活跃节点
- **快捷时间选项**: 
  - 最近1小时
  - 最近6小时
  - 最近24小时
  - 最近7天
- **统计信息**: 显示活跃节点数、平均CPU使用率、平均内存使用率、平均磁盘使用率
- **节点列表表格**:
  - IP地址
  - 最新时间
  - CPU使用率（进度条显示）
  - 内存使用率（进度条显示）
  - 磁盘使用率（进度条显示）
  - Swap使用率（进度条显示）
  - 网络速率
  - 操作按钮（查看详情）

### 3. 节点详情页面 (`/nodes/:ip`)
- **节点概览**: 显示最新指标的统计卡片
  - CPU使用率
  - 内存使用率
  - 磁盘使用率
  - 网络速率
- **图表展示**: 4个趋势图表
  - CPU使用率趋势
  - 内存使用率趋势
  - 磁盘使用率趋势
  - 网络速率趋势
- **详细数据表格**:
  - 时间戳
  - CPU用户%、系统%、等待%
  - 内存信息（总内存、空闲内存）
  - 磁盘信息（总磁盘、已用磁盘）
  - 网络信息（接收速率、发送速率）
- **数据导出**: 支持导出CSV格式数据
- **分页功能**: 支持分页查看大量数据

## API接口

### 1. 获取活跃IP列表
```
GET /node-monitor/active-ips
参数:
- start_time: 开始时间戳
- end_time: 结束时间戳
```

### 2. 获取特定IP监控数据
```
GET /node-monitor/ip-metrics/{ip}
参数:
- start_time: 开始时间戳
- end_time: 结束时间戳
```

## 使用说明

1. **访问节点列表**: 点击导航栏"节点详情"
2. **选择时间范围**: 使用时间选择器或快捷选项
3. **查看节点列表**: 表格显示所有活跃节点的最新状态
4. **查看节点详情**: 点击"查看详情"按钮或点击表格行
   - 支持时间范围传递到详情页面
5. **分析数据**: 在详情页面查看图表和详细数据
   - 4个趋势图表展示CPU、内存、磁盘、网络使用情况
   - 详细数据表格支持分页浏览
6. **导出数据**: 点击"导出数据"按钮下载CSV文件

## 已修复的问题

1. ✅ **移除了统计信息卡片**: 不再显示活跃节点数、平均CPU使用率等统计信息
2. ✅ **修复了详情页面跳转**: 点击"查看详情"按钮或表格行现在可以正常跳转到节点详情页面
3. ✅ **修复了图标导入错误**: 将不存在的 `MemoryCard` 图标替换为 `DataBoard` 图标

## 技术特性

- **响应式设计**: 适配不同屏幕尺寸
- **实时数据**: 支持实时刷新监控数据
- **交互式图表**: 使用ECharts绘制可交互的趋势图
- **数据分页**: 大数据量时自动分页显示
- **颜色编码**: 使用不同颜色表示使用率状态
  - 绿色: < 60%
  - 橙色: 60-80%
  - 红色: > 80%

## 部署信息

- 前端端口: http://localhost:3001/
- 依赖包: 新增了echarts用于图表展示
- 路由配置: 已更新路由配置支持新页面